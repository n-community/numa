{% extends "maps_section.html" %}
{% block title %}{{map.name|striptags}} - Edit Map{% endblock %}
{% block content %}
  <div class="section">
    <h2>{{map.name|escape}}</h2>
    <div class="body">
    <form method="post" action="/{{map.map_id}}/edit">
      {% csrf_token %}
      <table class="formtable">
        <tr>
          <th>Map Name</th>
          <td><input type="text" maxlength="40" name="name" value="{{map.name|escape}}" /></td>
        </tr>
        <tr>
          <th>Description</th>
          <td><textarea name="description" rows="5" cols="60">{{map.description|escape}}</textarea></td>
        </tr>
        <tr>
          <th>Tags</th>
          <td><div id="tagdialog">
            {% for tag in tags %}
              <input type="text" name="tags" onfocus="tagchange(this, this.value)" onkeypress="tagkeypress(this, event)" value="{{tag|escape}}" />
            {% endfor %}
          </div></td>
        </tr>
        <tr>
          <th>Map Data</th>
          <td>
            {% if map.IsRated %}
              Rated maps cannot be edited. If you wish to modify the map,
              please <a href="/submit">submit</a> a new one instead.
            {% else %}
              <textarea name="mapdata" rows="1" cols="60">{{map.mapdata}}</textarea>
              <br />Paste the map data generated by N into the text box above.
            {% endif %}
          </td>
        </tr>
        <tr>
          <th></th>
          <td><input type="submit" value="Update" /></td>
        </tr>
      </table>
    </form>
  </div>
</div>
{% endblock %}
